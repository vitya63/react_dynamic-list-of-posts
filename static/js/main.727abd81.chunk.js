(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),l=n(1),u=n(2),s=n(4),i=n(3),p=n(5),m=(n(17),n(6)),f=n.n(m),h=n(10),d=n(11);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=Object(d.a)(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()});case 2:return t=e.sent,e.next=5,fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()});case 5:return n=e.sent,e.next=8,fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()});case 8:return r=e.sent,e.abrupt("return",t.map(function(e){return b({},e,{comments:r.filter(function(t){return t.postId===e.id}),user:n.find(function(t){return t.id===e.userId})})}));case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=n(7),j=function(e){var t=e.comment,n=t.name,r=t.email,c=t.body;return a.a.createElement("li",{className:"nestedUl"},a.a.createElement("div",null,c),a.a.createElement("div",null,"Author: ".concat(n)),a.a.createElement("a",{href:"mailto: ".concat(r)},"Email ".concat(n)))},v=function(e){var t=e.comments;return a.a.createElement("ul",null,a.a.createElement("h3",null,"Comments"),t.map(function(e){return a.a.createElement(j,{comment:e,key:e.id})}))},g=function(e){var t=e.user;return a.a.createElement("div",null,a.a.createElement("p",null,"Author:",t.name),a.a.createElement("p",null,"\n        Author lives at ".concat(t.address.suite,"\n        on ").concat(t.address.street," street\n        in ").concat(t.address.city,"\n      ")),a.a.createElement("p",null,a.a.createElement("a",{href:"mailto: ".concat(t.email)},"Email ".concat(t.name))))},w=function(e){var t=e.post;return a.a.createElement("li",null,a.a.createElement("h2",null,t.title),a.a.createElement("p",null,t.body),a.a.createElement(g,{user:t.user}),a.a.createElement(v,{comments:t.comments}))},P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(a)))).state={inputValue:""},n.handleInputChange=function(e){n.setState({inputValue:e.target.value})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.posts,t=this.state.inputValue,n=null;return n=t?Object(O.a)(e).filter(function(e){return e.title.includes(t)||e.body.includes(t)}):Object(O.a)(e),a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"POSTS"),a.a.createElement("label",{htmlFor:"filter-posts"},"Filter the posts: "),a.a.createElement("input",{type:"text",onChange:this.handleInputChange,value:t,id:"filter-posts"}),a.a.createElement("ul",null,n.map(function(e){return a.a.createElement(w,{post:e,key:e.id})})))}}]),t}(a.a.Component),k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(a)))).state={posts:[],isLoading:!1,hasError:!1},n.loadPosts=function(){n.setState({isLoading:!0,hasError:!1}),y().then(function(e){n.setState({posts:e})}).catch(function(){n.setState({hasError:!0})}).finally(function(){n.setState({isLoading:!1})})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.posts,n=e.isLoading,r=e.hasError;return n?a.a.createElement("button",{type:"button"},"Loading..."):r?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Error occurred"),a.a.createElement("button",{type:"button",onClick:this.loadPosts},"Try again")):t.length?a.a.createElement(P,{posts:t}):a.a.createElement("button",{type:"button",onClick:this.loadPosts},"Load")}}]),t}(a.a.Component);o.a.render(a.a.createElement(k,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.727abd81.chunk.js.map